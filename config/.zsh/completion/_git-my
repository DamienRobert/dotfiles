#compdef git-my
#description My own wrapper script

#this need to be put on its own file so that git completion system can find
#it.
#putting it as a function in _mygit is not enough, because the function is
#only defined when there is an attempt to complete 'git-my'. If I first try
#to complete 'g my', it won't find this function yet.
local curcontext=$curcontext state line ret=1
_arguments -C \
   '(-*)--help[help]' \
   '--log=[set log level]:log level:' \
   '--no-pager[Never use pager]' \
   '---pager[Always use pager]' \
  '1: :->command' \
  '*: :_normal' && ret=0
case $state in
  command) _values "commands" $(git-my help -c) && ret=0 ;;
esac
return ret
