Invertibles modules (Eisenbud)
===================

Th 11.6: 
- I invertible iff I* \tens I \to R is an iso
- If M is invertible, it is isomorphic to a fractional ideal of R.
  An invertible fractional ideal I contains a nonzerodivisor of R
- If I,J are invertible fractional, I \tens J \iso IJ and I^{-1} \iso I*
  (where I^{-1}={s \in K(R) | sI \subset R}}
- If I \subset K(R) is a R-submodule, I is invertible iff I^{-1}I=R.

I est de pure codimension 1 si les premiers associés de I sont de
codimension 1 (ie sont tous génériques)

Th 11.8: R Noeth domain, R_P est factoriel pour tout P maximal
(i) I invertible <=> I pure codimension 1
(ii) Un idéal invertible I \subset K(R) s'écrit de manière unique comme un
produit d'idéaux premiers de codim 1.

Th 11.10: On a un morphisme des diviseurs de Cartier vers les diviseurs de Weil:
\phi(I) = \sum_{P codim 1 prime} length(R_P/I_P).P \in Div(R)

(Rem: si R est de dim 1, length R/I = \sum_{P codim 1 prime containing I}
length(R_P/I_P) donc l'application I->length R/I respecte la structure de
groupe des diviseurs de Cartier)

Prop 11.11: 
- Si R est noeth et *normal* alors les applications
Cartier(R)->Div(R) et Pic(R)->Chow(R) sont injectives.
- Si R est localement factoriel, alors Cartier(R)->Div(R) et
  Pic(R)->Chow(R) sont bijectives.
En général on a pas surjection (s'il existe des premiers de codim 1 non
inversibles), ni injection

Pour l'injection dans le cas normal, on utilise:
si R anneau réduit noeth, x \in K(R) appartient à R si x \in R_P pour tout
premier P associé à un non diviseur de 0 dans R.

Cf aussi:
http://mathoverflow.net/questions/12260/when-does-the-group-of-invertible-ideal-quotients-the-free-abelian-group-on-th/

Remarque
--------

Tout module inversible est (isomorphe à un) idéal fractionnaire si Ass(X)
est inclus dans un ouvert affine
cf Remarks on the existence of Cartier divisors (Stefan Schroer)

Anneaux normal, factoriels
--------------------------

R régulier local => factoriel
(R régulier local de dim 1 => valuation discrète)

# Factorialité
R est factoriel ssi tout idéal de codim 1 est principal
                ssi tout idéal premier minimal au-dessus d'un principal est principal
                ssi Cl(R)=0 (dans le cas où on peut définir correctement le
                groupe de classe de Weil, par exemple R anneau de Krull)

# Normalité:
- R domain est normal ssi pour chaque P premier associé à un idéal principal,
P_P est principal
- En général R est un produit d'anneaux normals si on a les critères 
  R1 (régulairté en codim <=1, ie la localisation en un premier de codim 1
  est à valuation discrète et en codim 0 un corps)
  et S2 (un idéal premier associé à un non diviseur de zéro est de codim 1,
  un idéal premier associé à 0 est de codim 0)
Rappel: R0+S1=> réduit
De manière équivalente: S1="Si P est de codim >=1, depth R_P >=1"
                        S2="Si P est de codim >=2, depth R_P >=2"

# Critère Jacobien
Th 18.15: soit R=k[x_1,...,x_r][U^-1]/I le localisé d'un anneau affine sur
un corps parfait k. I=(f_1,...,f_n) a codimension c.
Soit J l'idéal engendré par les mineurs cxc de la matrice Jacobienne
(\delta f_i/\delta x_j) modulo I. Supposons que R soit Cohen-Macauley.
(i) R réduit ssi J a codim >=1 dans R
(ii) R est un produit d'anneaux intègres si (i) et de plus R_P est intègre pour
tout premier P de codim <=1
(iii) R est un produit d'anneaux intègres normaux si J a codim >=2 dans R.
