Voir AlgCommutatives/PrimaryDecomposition pour les propriétés sur les
anneau noéthériens.

Annulateur et support
=====================

Soit M un module quasi cohérent sur un schéma X, s une section globale de M.
Le support de s est l'ensemble des x tels que s_x \ne 0. On a s_x=0 ssi s
est nul sur un ouvert autour de x, donc le support de s est fermé.

Var(s), c'est l'ensemble des points où s(x)=0; X_s est son complémentaire,
c'est donc un ouvert.
Remarque: si s(x) \ne 0, alors s_x \ne 0. Donc le support de s contient
X_s.

Le support de M c'est l'ensemble des x / le germe M_x est non nul, si M est
cohérent c'est un fermé; sur un ouvert affine c'est Var(ann M). En général,
la clotûre du support de M est encore Var(ann M).

Lemme:
Si x se spécialise en y, alors s(y) \ne 0 => s(x) \ne 0 et s|x \ne 0 => s|y
\ne 0. Contraposée: s(x)=0 => s(y)=0 et s|y=0 => s|x=0.

Th: Soit X=Spec A, alors
-X_s = Spec A[1/s] est l'ouvert complémentaire de Var(s)
-Support(s)=Var(0:s) contient X_s
-Si I=(0:s^\infty), alors I est le noyau de A->A_s, et est caractérisé
ensemblistement par l'ensemble des points x tels que s|x ne soit pas
nilpotente. En particulier, la clôture de X_s est donnée par Var(I), on en
déduit que Rac(I)=intersection des idéaux premiers ne contenant pas s=I +
préimage de Nilpotent(A_s).

En résumé: Var(s)={x | s(x)=0} est le complémentaire de X_s={x| s(x) \ne 0).
X_s ouvert \subset cloture X_s = Var{intersection idéaux premiers ne
contenant pas s} = Var(0:s^\infty)={x | s|x n'est pas nilpotente}
\subset Var(0:s)={x | s|x \ne 0}=Support de s.

En passant au complémentaire: Var(s)={x | s(x)=0} est fermé, son intérieur
est donné par le {x | s|x nilpotente} (en effet sur un ouvert U \subset
Var(s), s(x)=0 donc s est localement nilpotente sur U), qui contient le
complémentaire du support: {x | s|x =0}

Cas de plusieurs sections:
- \intersection X_s_i= X_{\prod s_i} donc on se ramène au cas d'une section.
- Y=\union X_s_i est le complémentaire de Var(s_i) qui est l'intersection
  des Var(s_i). Y={x | s_i(x) \ne 0 pour un i}. La clôture de Y est donné
  par (0:I^\infty) où I=(s_i); \overline Y=\union \overline X_s_i={x | il
  existe i / s_i|x non nilpotent}.

Assassins des modules cohérents
===============================

Soit X un schéma noethérien, M un module cohérent sur X.

Déf: les assassins de X sont les points génériques des composantes des
supports d'une section de M sur un ouvert.

Th: 
- Il y a un nombre fini d'assassins (associated primes); pour chaque
  assassin x il existe une section m tel qu'il soit exactement l'annulateur
  de cet élément (dans la germe en x ou sur un petit ouvert contenant x).
- f \in O_X est un diviseur de M ssi f(x)=0 pour un assassin x de M
- les assassins se localisent aux ouverts et même aux germes
- les points génériques de l'annulateur de M sont des assassins de M.
(Réciproquement, si s est une section dont le support ne contient aucun de
ces points génériques, alors s(x)=0 pour tout x, donc s nilpotente. Plus
généralement, si x n'appartient pas au support de s, alors s(y)=0 pour tout
x->y.
[Pr: si s|x=0, alors s(x)=0, donc pour tout x->y s(y)=0]
En particulier, si X est réduit, les seuls assassins de O_X sont les points
génériques.)
- L'application \Gamma(U,M)->\prod_{assassins dans U} M_p est une injection
  (En particulier, si une section m est nulle sur un ouvert U contenant tous les
  assassins, alors m est nulle)

Prop: - si s est une section de M, Supp m est la cloture des assassins x de M tels que s|x \ne 0.
- Les point x tels que O_X,x est non réduit est la cloture des assassins x
  de O_X tels que O_X,x non réduit.

Déf: une fonction est rationelle sur X <=> c'est une section de O_X sur un
ouvert contenant tous les assassins. K(X)=lim inductive \Gamma(U) pour U
contenant tous les assassins = anneau des fractions totales.
- K(X) est inclus dans le produit \prod_{x assassin} O_X,x
  Si X est réduit, K(X)=\prod_{x assassin} O_X,x et les O_X,x sont des
  corps.

Attention, si KK(X)=lim inductive \Gamma(U) pour U ouvert dense,
où l'on identifie deux sections de U et V qui coincident sur un ouvert
dense dans U \inter V (Eisenbud-Harris Ex I.21), alors il me semble que
KK(X)=\prod_{x générique} O_X,x, mais O_X ne s'injecte pas forcément dans
KK(X).
Concrêtement, ça se traduit par le fait que si U est un ouvert dense (ie il
contient tous les points génériques) mais qu'il existe un point immergé non
dans U, alors la cloture de U n'est pas égale à X. Ex: si X affine, la
cloture d'un ouvert U quelconque est donnée par l'idéal des fonctions
régulières dont l'intersection avec U est nulle, ie par l'intersection des
composantes primaires dont U contient le point associé, ie par l'idéal
(0:I^\infity) où I est l'idéal définissant le fermé complémentaire de U.

Assassins et morphismes
=======================

Prop: Si f: Y->X, alors f(Ass Y)=Assassins du O_X modules f_*(O_Y).

Rem: Si M est un faisceau cohérent sur X, un diviseur de 0 de M est déjà un
diviseur de 0 dans X équivaut à Ass M \subset Ass X (par prime avoidance).
En particulier, si f: Y->X est plat, f(Ass Y) \subset Ass X.

Ex: si f:Y->X avec X intègre, alors les Ass(Y) sont au dessus du point
générique de X équivaut à pour tout y\in Y, les éléments non nuls de
O_X|f(y) ne sont pas des diviseurs de zéro de O_Y|y.
