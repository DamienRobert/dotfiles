# Basic
########

#Set locale preferences in /etc/locale.conf.
echo -e "en_US.UTF-8 UTF-8\nfr_FR.UTF-8 UTF-8" >> /etc/locale.gen
locale-gen
#compte dams
groupadd sshc
useradd -m -g users -G wheel,systemd-journal,sshc -s /bin/zsh dams

echo -e "%wheel ALL=(ALL) ALL " >> /etc/sudoers
#Or if available:
#cp ~dams/mine/config/syst/etc/etc-generate/sudoers /etc/sudoers

#*ctl
#####

#/etc/locale.conf
sudo localectl set-locale LANG="en_US.UTF-8" 
#/etc/X11/xorg.conf.d/00-keyboard.conf
sudo localectl set-x11-keymap --no-convert fr oss 
#/etc/vconsole.conf
sudo localectl set-keymap --no-convert fr-latin1 
#/etc/localtime
sudo timedatectl set-timezone Europe/Paris 
#/etc/adjtime
# timedatectl set-local-rtc true 
#hostname
sudo hostnamectl set-hostname  "$MYHOSTNAME" 
#shortcut for
#hostnamectl set-hostname --static "$MYHOSTNAME" #/etc/hostname
#hostnamectl set-hostname --pretty "$MYHOSTNAME" #/etc/machine-info

#systemctl:
##########

sudo systemctl enable cronie.service ntpd.service sshd.socket
sudo systemctl enable systemd-readahead-collect.service systemd-readahead-replay.service

#internet
sudo systemctl enable netctl-ifplugd@eth0.service
sudo systemctl enable netctl-auto@wlan0.service

sudo cp ~dams/config/syst/netctl/wlan0-LapinouBlanc /etc/netctl
sudo netctl enable wlan0-LapinouBlanc

#?dm
sudo systemctl enable lightdm.service

# Compte dams
#############

ssh imb
vi ~config/00COMPUTERS.rb
~config/new/00newcompte $MYHOSTNAME $MYHOSTTYPE
exit

# firewall
##########

# sudo ufw limit SSH #limit works only for ipv4
# 
# #si besoin
# sudo ufw allow IPP #cups
# sudo ufw allow CIFS #smb/cifs
# # sudo systemctl start sensors.service cups.service samba.service

